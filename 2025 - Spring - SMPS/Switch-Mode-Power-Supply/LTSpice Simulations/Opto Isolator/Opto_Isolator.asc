Version 4.1
SHEET 1 1140 1572
WIRE 736 80 736 48
WIRE 480 96 480 48
WIRE 352 192 336 192
WIRE 736 192 736 160
WIRE 736 192 432 192
WIRE 832 192 736 192
WIRE 736 208 736 192
WIRE -1024 224 -1024 176
WIRE -880 224 -880 176
WIRE -496 256 -496 208
WIRE 480 256 480 176
WIRE 672 256 480 256
WIRE 160 272 -256 272
WIRE 304 272 224 272
WIRE 480 288 480 256
WIRE 160 304 112 304
WIRE 304 304 224 304
WIRE -256 320 -256 272
WIRE 160 336 64 336
WIRE 336 336 336 192
WIRE 336 336 224 336
WIRE 416 336 336 336
WIRE -1024 368 -1024 304
WIRE -880 368 -880 304
WIRE -496 368 -496 336
WIRE -320 368 -496 368
WIRE 736 368 736 304
WIRE 480 432 480 384
WIRE -496 448 -496 368
WIRE -256 448 -256 416
WIRE 736 480 736 448
WIRE -848 496 -928 496
WIRE -736 496 -848 496
WIRE -608 496 -656 496
WIRE -560 496 -608 496
WIRE -928 528 -928 496
WIRE -496 576 -496 544
WIRE -256 576 -256 528
WIRE -608 624 -608 496
WIRE 64 624 64 336
WIRE 64 624 -608 624
WIRE -928 656 -928 608
FLAG -1024 368 0
FLAG -1024 176 A_5V
FLAG -880 368 0
FLAG -880 176 BC_5V
FLAG -256 576 0
FLAG -496 576 0
FLAG -928 656 0
FLAG 304 272 0
FLAG 304 304 0
FLAG 480 432 0
FLAG 736 480 0
FLAG 832 192 out
FLAG -848 496 in
FLAG -496 208 A_5V
FLAG 112 304 A_5V
FLAG 480 48 BC_5V
FLAG 736 48 BC_5V
SYMBOL voltage -1024 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -880 208 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL npn -320 320 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res -272 432 R0
SYMATTR InstName R1
SYMATTR Value 5
SYMBOL res -512 240 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res -640 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 80k
SYMBOL voltage -928 512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(1.65 1.65 1k)
SYMBOL pnp 416 384 M180
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL npn 672 208 R0
SYMATTR InstName Q4
SYMATTR Value 2N3904
SYMBOL res 720 352 R0
SYMATTR InstName R4
SYMATTR Value 5
SYMBOL res 720 64 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 464 80 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 448 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 80k
SYMBOL pnp -560 544 M180
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL CNR200 192 304 R0
SYMATTR InstName U1
TEXT -824 -464 Left 5 ;Simulating analog opto-isolator with external feedback
TEXT -816 -248 Left 2 !.tran 10m
TEXT -816 -192 Left 2 !.inc AvagoHCNR200_MOD.txt
TEXT -816 -376 Left 2 ;Due to two different MCU grounds, the potentiometer output from MCU A\nmust go through an opto-isolator before being read by MCU B. For the \nreadings to be linear, external feedback was used.
