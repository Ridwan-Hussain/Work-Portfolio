Version 4
SHEET 1 5444 1436
WIRE 560 -208 304 -208
WIRE 800 -208 560 -208
WIRE 928 -208 800 -208
WIRE 1184 -208 1104 -208
WIRE 1264 -208 1184 -208
WIRE 1536 -208 1264 -208
WIRE 2160 -176 2112 -176
WIRE 2304 -176 2240 -176
WIRE 3744 -176 3296 -176
WIRE 3296 -144 3296 -176
WIRE 1536 -128 1536 -208
WIRE 304 -112 304 -208
WIRE 304 -112 224 -112
WIRE 416 -112 304 -112
WIRE 928 -80 928 -208
WIRE 1872 -80 1824 -80
WIRE 1936 -80 1872 -80
WIRE 2112 -80 2112 -176
WIRE 2112 -80 2016 -80
WIRE 2192 -80 2160 -80
WIRE 2224 -80 2192 -80
WIRE 3744 -80 3744 -176
WIRE 1104 -64 1104 -208
WIRE 2160 -64 2160 -80
WIRE 3696 -64 3616 -64
WIRE 224 -48 224 -112
WIRE 416 -48 416 -112
WIRE 2112 -48 2112 -80
WIRE 2128 -48 2112 -48
WIRE 2304 -32 2304 -176
WIRE 2304 -32 2192 -32
WIRE 2384 -32 2304 -32
WIRE 2464 -32 2384 -32
WIRE 2128 -16 2112 -16
WIRE 3296 -16 3296 -64
WIRE 1872 16 1824 16
WIRE 1936 16 1872 16
WIRE 2112 16 2112 -16
WIRE 2112 16 2016 16
WIRE 2384 16 2384 -32
WIRE 224 48 224 16
WIRE 224 48 -32 48
WIRE 416 48 416 16
WIRE 448 48 416 48
WIRE 560 48 560 -208
WIRE 928 64 928 0
WIRE 1104 64 1104 16
WIRE 1264 64 1264 -208
WIRE 1824 64 1824 16
WIRE 2112 64 2112 16
WIRE 2160 64 2160 0
WIRE 2208 64 2160 64
WIRE 2240 64 2208 64
WIRE 3520 64 3088 64
WIRE 3616 64 3616 -64
WIRE 3616 64 3520 64
WIRE 3744 64 3744 16
WIRE 3888 64 3744 64
WIRE 3984 64 3888 64
WIRE 224 80 224 48
WIRE 416 80 416 48
WIRE 3744 112 3744 64
WIRE -32 128 -32 48
WIRE 3088 128 3088 64
WIRE 2384 144 2384 80
WIRE 1824 176 1824 144
WIRE 2112 176 2112 144
WIRE 3616 192 3616 64
WIRE 3696 192 3616 192
WIRE 224 208 224 144
WIRE 304 208 224 208
WIRE 416 208 416 144
WIRE 416 208 304 208
WIRE 928 240 928 144
WIRE 1104 240 1104 144
WIRE 1136 240 1104 240
WIRE 1264 240 1264 128
WIRE 1264 240 1232 240
WIRE 1536 240 1536 -48
WIRE 1536 240 1264 240
WIRE 3088 272 3088 208
WIRE 3744 272 3744 208
WIRE 816 320 736 320
WIRE 880 320 816 320
WIRE 1152 320 1088 320
WIRE 1216 320 1216 288
WIRE 1216 320 1152 320
WIRE 1456 352 1424 352
WIRE 1536 352 1536 240
WIRE 1536 352 1456 352
WIRE 2048 384 2016 384
WIRE 2096 384 2048 384
WIRE -32 400 -32 208
WIRE 448 400 448 48
WIRE 448 400 -32 400
WIRE 928 416 928 336
WIRE 2016 416 2016 384
WIRE 304 480 304 208
WIRE 2016 512 2016 496
WIRE 2016 512 1904 512
WIRE 560 528 560 112
WIRE 928 528 928 496
WIRE 928 528 560 528
WIRE 2016 528 2016 512
WIRE 1904 544 1904 512
WIRE 928 576 928 528
WIRE 2016 672 2016 608
WIRE 2064 672 2016 672
WIRE 2096 672 2064 672
FLAG 816 320 DriveA
FLAG 3088 272 0
FLAG 3520 64 DriveA
FLAG 800 -208 Input
FLAG 1184 -208 Output
FLAG 304 480 0
FLAG 928 576 0
FLAG 1152 320 nDriveA
FLAG 3744 272 0
FLAG 3296 -16 0
FLAG 3888 64 nDriveA
FLAG 1456 352 Gnd2
FLAG 1872 16 Vref
FLAG 1824 176 0
FLAG 2048 384 Vbias
FLAG 2192 -80 Vbias
FLAG 1872 -80 Output
FLAG 2112 176 0
FLAG 1904 544 0
FLAG 2064 672 Vbias-
FLAG 2208 64 Vbias-
FLAG 2384 144 0
SYMBOL voltage -32 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 24 60)
SYMBOL diode 192 -80 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL cap 544 48 R0
SYMATTR InstName C1
SYMATTR Value 2500µ
SYMBOL res 912 -96 R0
SYMATTR InstName R1
SYMATTR Value .46
SYMBOL ind2 912 48 R0
SYMATTR InstName L1
SYMATTR Value 500µ
SYMATTR Type ind
SYMATTR SpiceLine Cpar=12.5p
SYMBOL ind2 1120 160 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L2
SYMATTR Value 1000µ
SYMATTR Type ind
SYMATTR SpiceLine Cpar=12.5p
SYMBOL res 1088 -80 R0
SYMATTR InstName R2
SYMATTR Value .48
SYMBOL nmos 880 240 R0
SYMATTR InstName M1
SYMATTR Value RUC002N05
SYMBOL nmos 1136 288 R270
SYMATTR InstName M2
SYMATTR Value RUC002N05
SYMBOL cap 1248 64 R0
SYMATTR InstName C2
SYMATTR Value 2200µ
SYMBOL res 1520 -144 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL voltage 3088 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0 1n 1n {D/freq} {1/freq})
SYMBOL res 912 400 R0
SYMATTR InstName R3
SYMATTR Value 0.1
SYMBOL nmos 3696 112 R0
SYMATTR InstName M3
SYMATTR Value RUC002N05
SYMBOL voltage 3296 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 3.3
SYMBOL pmos 3696 16 M180
SYMATTR InstName M6
SYMATTR Value RSR025P03
SYMBOL schottky 192 -208 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value RBR10BGE30A
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 240 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value RBR10BGE30A
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 432 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value RBR10BGE30A
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 432 144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value RBR10BGE30A
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 240 144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value RBR10BGE30A
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL voltage 2016 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 24
SYMBOL voltage 1824 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 10
SYMBOL res 2032 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res 2256 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 2032 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res 2128 160 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL voltage 2016 512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 24
SYMBOL cap 2368 16 R0
SYMATTR InstName C3
SYMATTR Value 1n
TEXT 968 -248 Left 2 !K1 L1 L2 1
TEXT 8 496 Left 2 !.tran 0.2
TEXT -24 536 Left 2 ;Suitable NMOS: \nRUC002N05T116\nRJU003N03FRAT106\n \nSuitable PMOS: \nRSQ025P03HZGTR\nRRR030P03HZGTL\nRSR025P03\n \nSuitable Diodes:\nRBR10BGE30A\n1N4148\n \nSuitable Transformers:\n760390011 - 760390015
TEXT 3112 232 Left 2 !.param D=0.5 freq=10k
TEXT -32 1040 Left 2 ;Power in transistor (might blow up)\nInput might need a buffer (?)\n \nNext Steps:\n- Error amplifier circuit for feedback control\n  - Look into inverter using diodes like Toshiba 24Vi 60W 12Vo\n- Generate a reference Voltage output\n- DC bias Voltage for MCU to be on and other stuff (maybe use 5V from fixed output for MCU output)\n- Over Current Protection for C.C.\n- Digital LED display\n- Wiring for inline fuses\n- Other protection considerations\n- Need to look at parts that can realistically handle these high power loads (high voltage, high current, high power)
TEXT 64 -424 Left 5 ;Diode Bridge Rectifier
TEXT 888 -424 Left 5 ;Isolation Transformer
TEXT 712 1128 Left 2 ;Potentiometer --> to change Voltage Output\n- ADC line, where the output voltage is dependent on potentiometer\n- Amplify it\n- Then feed it as reference voltage
TEXT 3088 320 Left 2 ;At the higher end of the duty cycle, it's harder to get finer control.\nIncreasing frequency dramatically increases output voltage.\n \nMapping Duty Cycle --> Vout after 0.2s\n0.010 --> 0.338V\n0.020 --> 0.678V\n0.030 --> 1.024V\n0.040 --> 1.379V\n0.050 --> 1.741V\n0.075 --> 2.678V\n0.100 --> 3.668V\n0.125 --> 4.710V\n0.150 --> 5.811V\n0.175 --> 6.976V\n0.200 --> 8.210V\n0.225 --> 9.521V\n0.250 --> 10.914V\n0.275 --> 12.400V\n0.300 --> 13.988V\n0.325 --> 15.688V\n0.350 --> 17.514V\n0.375 --> 19.477V\n0.400 --> 21.595V
TEXT 648 104 Left 2 ;500u
TEXT 576 136 Left 1 ;Increasing C1 reduces \nthe peak-to-peak swing on the \ninput, increasing the Vout.
TEXT 888 -384 Left 2 ;Currently modelling P/N 760390011.\nInput is center tapped, output is full thing.
TEXT 944 352 Left 2 ;Need inverting circuit on driveA logic so\nthe output voltage is being held.
TEXT 1280 160 Left 1 ;Decreasing C2 increases output\nvoltage, but might increase the \nripple at the output.
TEXT 1008 456 Left 2 ;The lower R3 is, the higher \nthe output voltage.
TEXT 1272 -120 Left 1 ;The load does change the Vout.\nHopefully the feedback loop can\nhandle this though.
TEXT 440 248 Right 2 ;Shottky Diodes for better efficiency.
TEXT 3320 -424 Left 5 ;Controller Logic
TEXT -8 1408 Left 4 ;- Most of the parts used right now are NOT appropiately spec'd with proper power ratings.
TEXT 2384 -200 Left 2 ;Circuit doesn't work when you add the isolation \ntransformer for the error controller circuit.\nEven with universal OpAmp, Error1 and Error2 are not the same.
TEXT 2040 -424 Left 5 ;Feedback Loop
TEXT 2080 -232 Left 2 ;Maybe add a capacitor?
TEXT 1768 224 Left 2 ;Vref will be found with ADC and Potentiometer\nAnd amplifiying some stuff.
TEXT 2040 -384 Left 2 ;Currently modelling P/N 760390011.\nInput is full thing, output is full thing.
